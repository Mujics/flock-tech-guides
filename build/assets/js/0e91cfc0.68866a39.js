"use strict";(self.webpackChunkfedpat_docs=self.webpackChunkfedpat_docs||[]).push([[910],{3987:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var s=r(4848),i=r(8453);const o={},d=void 0,l={id:"Servicios Art/Art Endoso Backend/lista-endosos-habilitados",title:"lista-endosos-habilitados",description:"Nombre del Servicio",source:"@site/docs/Servicios Art/Art Endoso Backend/lista-endosos-habilitados.md",sourceDirName:"Servicios Art/Art Endoso Backend",slug:"/Servicios Art/Art Endoso Backend/lista-endosos-habilitados",permalink:"/fedpat-docs/Servicios Art/Art Endoso Backend/lista-endosos-habilitados",draft:!1,unlisted:!1,editUrl:"https://github.com/Mujics/fedpat-docs/tree/main/fedpat-docs/docs/Servicios Art/Art Endoso Backend/lista-endosos-habilitados.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Control Fecha",permalink:"/fedpat-docs/Servicios Art/Art Endoso Backend/control-fecha"},next:{title:"Control Tipo Endoso",permalink:"/fedpat-docs/Servicios Art/Art Endoso Backend/control-tipo-endoso"}},a={},c=[{value:"Nombre del Servicio",id:"nombre-del-servicio",level:2},{value:"Endpoint",id:"endpoint",level:2},{value:"Tipo",id:"tipo",level:3},{value:"Pantalla",id:"pantalla",level:3},{value:"Consideraciones de Seguridad",id:"consideraciones-de-seguridad",level:3},{value:"Momento de Ejecuci\xf3n",id:"momento-de-ejecuci\xf3n",level:3},{value:"Descripci\xf3n del Servicio",id:"descripci\xf3n-del-servicio",level:3},{value:"Observaciones adicionales",id:"observaciones-adicionales",level:3},{value:"C\xf3digo encontrado o sugerido",id:"c\xf3digo-encontrado-o-sugerido",level:3},{value:"Input",id:"input",level:2},{value:"Output",id:"output",level:2},{value:"Array Details for PermisosNecesarios",id:"array-details-for-permisosnecesarios",level:2},{value:"Error/Recovery Handling",id:"errorrecovery-handling",level:2},{value:"Ejemplos de Respuestas JSON",id:"ejemplos-de-respuestas-json",level:2},{value:"Ejemplo de Respuesta Exitosa",id:"ejemplo-de-respuesta-exitosa",level:3},{value:"Ejemplo de Respuesta con Error",id:"ejemplo-de-respuesta-con-error",level:3}];function t(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"nombre-del-servicio",children:"Nombre del Servicio"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Modulo de endosos de ART"})}),"\n",(0,s.jsx)(n.h2,{id:"endpoint",children:"Endpoint"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"GET"})," ",(0,s.jsx)(n.code,{children:"/lista-endosos-habilitados"})]}),"\n",(0,s.jsx)(n.h3,{id:"tipo",children:"Tipo"}),"\n",(0,s.jsx)(n.p,{children:"GET"}),"\n",(0,s.jsx)(n.h3,{id:"pantalla",children:"Pantalla"}),"\n",(0,s.jsx)(n.p,{children:"ARTF70000"}),"\n",(0,s.jsx)(n.h3,{id:"consideraciones-de-seguridad",children:"Consideraciones de Seguridad"}),"\n",(0,s.jsx)(n.p,{children:'Se debe validar para cada tipo de endoso los siguientes permisos. En caso de que el usuario no los tenga asignado se debe mostrar el mensaje "Error(nropermiso): Usuario NO autorizado":'}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Alta ubicaci\xf3n de riesgo. Permisos 764 y 337"}),"\n",(0,s.jsx)(n.li,{children:"Mod. ubicaci\xf3n de riesgo. Permisos 764 y 337"}),"\n",(0,s.jsx)(n.li,{children:"Baja ubicaci\xf3n de riesgo. Permisos 764 y 337"}),"\n",(0,s.jsx)(n.li,{children:"Cambio de productor. Permiso 337"}),"\n",(0,s.jsx)(n.li,{children:"Cambio de CIIU, Nivel y Tasas. Permisos 747 y 337"}),"\n",(0,s.jsx)(n.li,{children:"Cambio de vigencia. Permiso 337"}),"\n",(0,s.jsx)(n.li,{children:"Cambio de CUIT. Permiso 337"}),"\n",(0,s.jsx)(n.li,{children:"Cambio de domicilio legal. Permisos 749 y 337"}),"\n",(0,s.jsx)(n.li,{children:"Cambio de raz\xf3n social. Permisos 748 y 337"}),"\n",(0,s.jsx)(n.li,{children:"Subrogaci\xf3n. Permiso 337"}),"\n",(0,s.jsx)(n.li,{children:"Baja endoso de subrogaci\xf3n. Permiso 337"}),"\n",(0,s.jsx)(n.li,{children:"Anulaci\xf3n/Suspensi\xf3n. Permiso 337"}),"\n",(0,s.jsx)(n.li,{children:"Rehabilitaci\xf3n. Permisos 746 y 337"}),"\n",(0,s.jsx)(n.li,{children:"Generaci\xf3n de N/C. Permisos 746 y 337"}),"\n",(0,s.jsx)(n.li,{children:"Facturaci\xf3n. Permisos 746 y 337"}),"\n",(0,s.jsx)(n.li,{children:"Agregar Casas Particulares. Permisos 765 y 337"}),"\n",(0,s.jsx)(n.li,{children:"Agregar ART General. Permiso 337"}),"\n",(0,s.jsx)(n.li,{children:"Pago ILT. No necesita permisos"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"momento-de-ejecuci\xf3n",children:"Momento de Ejecuci\xf3n"}),"\n",(0,s.jsx)(n.p,{children:"Al momento de generar el tipo de endoso"}),"\n",(0,s.jsx)(n.h3,{id:"descripci\xf3n-del-servicio",children:"Descripci\xf3n del Servicio"}),"\n",(0,s.jsx)(n.p,{children:"Se verifican los permisos asignados al usuario y se habilita o no la opci\xf3n de ejecutar el endoso."}),"\n",(0,s.jsx)(n.h3,{id:"observaciones-adicionales",children:"Observaciones adicionales"}),"\n",(0,s.jsx)(n.p,{children:"Especificaci\xf3n para desarrollo Frontend: Deber\xeda mostrar la lista de endosos permitidos para el usuario."}),"\n",(0,s.jsx)(n.h3,{id:"c\xf3digo-encontrado-o-sugerido",children:"C\xf3digo encontrado o sugerido"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"  if :endosos = 1 AND PERMISO(764) = 'NO' AND PERMISO(337) = 'NO' THEN\n      mensaje_error('Error(764): Usuario NO autorizado');\n      RAISE FORM_TRIGGER_FAILURE;\n  END IF;\n  if :endosos = 2 AND PERMISO(764) = 'NO' AND PERMISO(337) = 'NO' THEN\n       mensaje_error('Error(764): Usuario NO autorizado');\n      RAISE FORM_TRIGGER_FAILURE;\n  END IF;\n  if :endosos = 3 AND PERMISO(764) = 'NO' AND PERMISO(337) = 'NO' THEN\n       mensaje_error('Error(764): Usuario NO autorizado');\n      RAISE FORM_TRIGGER_FAILURE;\n  END IF;\n  if :endosos = 4 AND PERMISO(337) = 'NO' THEN\n       mensaje_error('Error(337): Usuario NO autorizado');\n       RAISE FORM_TRIGGER_FAILURE;\n  end if;\n  -- Caso 26445 Endoso Tasas\n  IF :ENDOSOS = 5 AND PERMISO(747) = 'NO' AND PERMISO(337) = 'NO' THEN\n       mensaje_error('Error(747): Usuario NO autorizado');\n      RAISE FORM_TRIGGER_FAILURE;\n  END IF;    \n  if :endosos = 6 AND PERMISO(337) = 'NO' THEN --vigencia\n       mensaje_error('Error(337): Usuario NO autorizado');\n      RAISE FORM_TRIGGER_FAILURE;\n  end if;\n  if :endosos = 7 AND PERMISO(337) = 'NO' THEN -- CUIT\n       mensaje_error('Error(337): Usuario NO autorizado');\n      RAISE FORM_TRIGGER_FAILURE;\n  end if;\n  -- Caso 26445 Endoso cambio domicilio legal\n  IF :ENDOSOS = 8 AND PERMISO(749) = 'NO' AND PERMISO(337) = 'NO' THEN\n       mensaje_error('Error(749): Usuario NO autorizado');\n      RAISE FORM_TRIGGER_FAILURE;\n  end if;\n  -- Caso 26445 Endoso cambio raz\xf3n social\n  IF :ENDOSOS = 9 AND PERMISO(748) = 'NO' AND PERMISO(337) = 'NO' THEN\n       mensaje_error('Error(748): Usuario NO autorizado');\n      RAISE FORM_TRIGGER_FAILURE;\n  END IF;\n  if :endosos = 10 AND PERMISO(337) = 'NO' THEN -- Subrogaci\xf3n\n      mensaje_error('Error(337): Usuario NO autorizado');\n      RAISE FORM_TRIGGER_FAILURE;\n  end if;\n  if :endosos = 11 AND PERMISO(337) = 'NO' THEN -- Baja Subrogaci\xf3n\n      mensaje_error('Error(337): Usuario NO autorizado');\n      RAISE FORM_TRIGGER_FAILURE;\n  end if;\n  if :endosos = 12 AND PERMISO(337) = 'NO' THEN -- Anulaci\xf3n\n      mensaje_error('Error(337): Usuario NO autorizado');\n      RAISE FORM_TRIGGER_FAILURE;\n  end if;\n  -- rehabilitaci\xf3n\n  if :endosos = 14 AND PERMISO(746) = 'NO' AND PERMISO(337) = 'NO' THEN\n      mensaje_error('Error(746): Usuario NO autorizado');\n      RAISE FORM_TRIGGER_FAILURE;\n  end if;\n  -- N/C\n  if :endosos = 15 AND PERMISO(746) = 'NO' AND PERMISO(337) = 'NO' THEN\n      mensaje_error('Error(746): Usuario NO autorizado');\n      RAISE FORM_TRIGGER_FAILURE;\n  end if;\n  -- Caso 26445 Endoso Facturaci\xf3n\n  IF :ENDOSOS = 16 AND PERMISO(746) = 'NO' AND PERMISO(337) = 'NO' THEN\n       mensaje_error('Error(746): Usuario NO autorizado');\n      RAISE FORM_TRIGGER_FAILURE;\n  END IF;\n  -- AGREGA Casas Particulares\n  if :endosos = 17 AND PERMISO(765) = 'NO' AND PERMISO(337) = 'NO' THEN\n       mensaje_error('Error(765): Usuario NO autorizado');\n      RAISE FORM_TRIGGER_FAILURE;\n  end if;\n  elsif :endosos = 18 AND PERMISO(337) = 'NO' THEN -- AGREGA ART General\n      mensaje_error('Error(337): Usuario NO autorizado');\n      RAISE FORM_TRIGGER_FAILURE;\n  END IF;\n"})}),"\n",(0,s.jsx)(n.h2,{id:"input",children:"Input"}),"\n",(0,s.jsx)(n.p,{children:"Sin input definido"}),"\n",(0,s.jsx)(n.h2,{id:"output",children:"Output"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Par\xe1metro"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Tipo"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Mandatorio"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Descripci\xf3n"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Ejemplo"})})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"tipoEndoso"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"INTEGER"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"SI"})}),(0,s.jsx)(n.td,{children:"Identificador del tipo de endoso"}),(0,s.jsx)(n.td,{children:"1"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"nombreEndoso"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"STRING"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"SI"})}),(0,s.jsx)(n.td,{children:"Nombre descriptivo del endoso"}),(0,s.jsx)(n.td,{children:'"Alta ubicaci\xf3n"'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"permisosNecesarios"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ARRAY"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"SI"})}),(0,s.jsx)(n.td,{children:"Permisos requeridos para el endoso"}),(0,s.jsx)(n.td,{children:"[764, 337]"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"array-details-for-permisosnecesarios",children:"Array Details for PermisosNecesarios"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Nombre"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Tipo"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Mandatorio"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Descripci\xf3n"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Ejemplo"})})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"permisoId"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"INTEGER"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"SI"})}),(0,s.jsx)(n.td,{children:"ID del permiso requerido"}),(0,s.jsx)(n.td,{children:"764"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"descripcionPermiso"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"STRING"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"SI"})}),(0,s.jsx)(n.td,{children:"Descripci\xf3n del permiso"}),(0,s.jsx)(n.td,{children:'"Permiso para Alta"'})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"errorrecovery-handling",children:"Error/Recovery Handling"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Return/Error Code"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Message"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Description"})})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"400"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Bad Request"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"La solicitud es inv\xe1lida o no se puede entender."})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"404"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Not Found"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"No se encontraron tipos de endoso disponibles."})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"422"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Unprocessable Entity"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"La solicitud no contiene los campos necesarios."})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"500"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Internal Server Error"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Error interno del servidor."})})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"ejemplos-de-respuestas-json",children:"Ejemplos de Respuestas JSON"}),"\n",(0,s.jsx)(n.h3,{id:"ejemplo-de-respuesta-exitosa",children:"Ejemplo de Respuesta Exitosa"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": [\n    {\n      "tipoEndoso": 1,\n      "nombreEndoso": "Alta ubicaci\xf3n de riesgo",\n      "permisosNecesarios": [764, 337]\n    },\n    {\n      "tipoEndoso": 2,\n      "nombreEndoso": "Modificaci\xf3n de ubicaci\xf3n de riesgo",\n      "permisosNecesarios": [764, 337]\n    }\n  ],\n  "error": null\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"ejemplo-de-respuesta-con-error",children:"Ejemplo de Respuesta con Error"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "success": false,\n  "data": null,\n  "error": {\n    "code": 404,\n    "message": "No se encontraron tipos de endoso disponibles."\n  }\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>d,x:()=>l});var s=r(6540);const i={},o=s.createContext(i);function d(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);
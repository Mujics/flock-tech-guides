"use strict";(self.webpackChunkfedpat_docs=self.webpackChunkfedpat_docs||[]).push([[264],{6221:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>l});var d=r(4848),o=r(8453);const i={},s=void 0,t={id:"Servicios Art/Art Endoso Backend/validar-productor-nuevo",title:"validar-productor-nuevo",description:"Validar productor nuevo",source:"@site/docs/Servicios Art/Art Endoso Backend/validar-productor-nuevo.md",sourceDirName:"Servicios Art/Art Endoso Backend",slug:"/Servicios Art/Art Endoso Backend/validar-productor-nuevo",permalink:"/fedpat-docs/Servicios Art/Art Endoso Backend/validar-productor-nuevo",draft:!1,unlisted:!1,editUrl:"https://github.com/Mujics/fedpat-docs/tree/main/fedpat-docs/docs/Servicios Art/Art Endoso Backend/validar-productor-nuevo.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Control Tipo Endoso",permalink:"/fedpat-docs/Servicios Art/Art Endoso Backend/control-tipo-endoso"},next:{title:"obtener-historial-endosos",permalink:"/fedpat-docs/Servicios Art/Art Endoso Backend/obtener-historial-endosos"}},c={},l=[{value:"Validar productor nuevo",id:"validar-productor-nuevo",level:2},{value:"Endpoint",id:"endpoint",level:2},{value:"Tipo de servicio GET",id:"tipo-de-servicio-get",level:2},{value:"Consideraciones de seguridad",id:"consideraciones-de-seguridad",level:3},{value:"Momento de ejecuci\xf3n",id:"momento-de-ejecuci\xf3n",level:3},{value:"Descripci\xf3n del servicio",id:"descripci\xf3n-del-servicio",level:3},{value:"Observaciones varias",id:"observaciones-varias",level:4},{value:"C\xf3digo encontrado o sugerido",id:"c\xf3digo-encontrado-o-sugerido",level:2},{value:"Input",id:"input",level:2},{value:"Output",id:"output",level:2},{value:"Error/Recovery Handling",id:"errorrecovery-handling",level:2},{value:"Json Input Sugerido",id:"json-input-sugerido",level:2},{value:"Json Output Sugerido",id:"json-output-sugerido",level:2}];function a(e){const n={br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.h2,{id:"validar-productor-nuevo",children:"Validar productor nuevo"}),"\n",(0,d.jsx)(n.h2,{id:"endpoint",children:"Endpoint"}),"\n",(0,d.jsx)(n.h1,{id:"productorfindbycodigocodigo",children:"/productor/findByCodigo/{codigo}"}),"\n",(0,d.jsx)(n.h2,{id:"tipo-de-servicio-get",children:"Tipo de servicio GET"}),"\n",(0,d.jsx)(n.h3,{id:"consideraciones-de-seguridad",children:"Consideraciones de seguridad"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"momento-de-ejecuci\xf3n",children:"Momento de ejecuci\xf3n"}),"\n",(0,d.jsx)(n.p,{children:"Al momento de ingresar c\xf3digo de productor nuevo"}),"\n",(0,d.jsx)(n.h3,{id:"descripci\xf3n-del-servicio",children:"Descripci\xf3n del servicio"}),"\n",(0,d.jsxs)(n.p,{children:['"Si se ha ingresado un c\xf3digo de productor nuevo se consulta de tabla GIOSEG.CART_PRODUCTORES el nombre del productor y el c\xf3digo de esquema del nuevo productor.',(0,d.jsx)(n.br,{}),"\n","Si el c\xf3digo de esquema es NULO se debe mostrar el mensaje 'El esquema del productor nuevo debe existir' y se cancela el proceso.\""]}),"\n",(0,d.jsx)(n.h4,{id:"observaciones-varias",children:"Observaciones varias"}),"\n",(0,d.jsxs)(n.p,{children:['"Verificar servicio de validaci\xf3n anterior: En caso que no tenga validaci\xf3n de esquema solicitar el agregado.',(0,d.jsx)(n.br,{}),"\n","En este caso, como no existe el dato ESQUEMA, hay que modificar el endpoint:",(0,d.jsx)(n.br,{}),"\n",'/productor/findByCodigo/{codigo}, agreg\xe1ndolo al final del JSON (consultar)."']}),"\n",(0,d.jsx)(n.h2,{id:"c\xf3digo-encontrado-o-sugerido",children:"C\xf3digo encontrado o sugerido"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sql",children:"if :PRODUCTOR_NUEVO is not null then  \n  DSP_PRODUCTOR_NUE( :PRODUCTOR_NUEVO, :NOMBRE_PRODUCTOR, :ESQUEMA);  \n  IF :ESQUEMA IS NULL THEN  \n    MESSAGE ('El esquema del productor nuevo debe existir');  \n    raise form_trigger_failure;  \n  END IF;  \nend if;  \nPROCEDURE DSP_PRODUCTOR_NUE(v_codigo IN cart_productores.capd_cd_productor%type,  \n                        v_dsp IN OUT cart_productores.capd_nm_productor%type,  \n                        v_esq IN OUT cart_productores.capd_cres_cd_esquema%type) IS  \nBEGIN  \n  IF v_codigo IS NOT NULL THEN  \n    begin  \n      SELECT CAPD_NM_PRODUCTOR,  \n             CAPD_CRES_CD_ESQUEMA  \n      INTO v_dsp, v_esq  \n      FROM CART_PRODUCTORES  \n      WHERE CAPD_CD_PRODUCTOR = v_codigo;  \n    exception  \n      when no_data_found then  \n        v_dsp := '???';  \n        v_esq := '???';  \n    end;  \n  END IF;  \nEND;\n"})}),"\n",(0,d.jsx)(n.h2,{id:"input",children:"Input"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Par\xe1metro"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Tipo"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Mandatorio"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Descripci\xf3n"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Ejemplo"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Referencia en BD"})})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"ProdActual"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"INTEGER(22)"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"SI"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"C\xf3digo de productor"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"1234567890"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"GIOSEG.CART_PRODUCTORES.CAPD_CD_PRODUCTOR"})})]})})]}),"\n",(0,d.jsx)(n.h2,{id:"output",children:"Output"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Par\xe1metro"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Tipo"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Mandatorio"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Descripci\xf3n"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Ejemplo"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Referencia en BD"})})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.em,{children:"NombreProdActual"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"STRING(60)"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.em,{children:"SI"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.em,{children:"Nombre de productor"})}),(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.em,{children:"GIOSEG.CART_PRODUCTORES.CAPD_NM_PRODUCTOR"})})]})})]}),"\n",(0,d.jsx)(n.h2,{id:"errorrecovery-handling",children:"Error/Recovery Handling"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Error Code"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Description"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Recovery Action"})})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"400"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Bad Request"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"La solicitud es inv\xe1lida o no se puede entender."})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"404"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Not Found"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"No se encontraron resultados que coincidan con los criterios de b\xfasqueda."})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"422"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Unprocessable Entity"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"La solicitud no contiene al menos un par\xe1metro de b\xfasqueda v\xe1lido."})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"204"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"No Content"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"No se encontraron datos para la consulta."})})]})]})]}),"\n",(0,d.jsx)(n.h2,{id:"json-input-sugerido",children:"Json Input Sugerido"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"json-output-sugerido",children:"Json Output Sugerido"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",metastring:"{",children:'  "success": true,\n  "data": {\n    "nombreProdActual": "Juan P\xe9rez",\n    "esquemaProdActual": "Esquema123"\n  },\n  "error": null\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>t});var d=r(6540);const o={},i=d.createContext(o);function s(e){const n=d.useContext(i);return d.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),d.createElement(i.Provider,{value:n},e.children)}}}]);